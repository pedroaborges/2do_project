{% extends 'base.html' %}
{% load static %}

{% block 'title' %}Atualizar tarefa - 2DO{% endblock %}

{% block 'body' %}
  <body class="bg-dark-purple font-sans flex items-center justify-center min-h-screen p-4">
    <div class="bg-card-purple p-6 rounded-xl shadow-lg mt-10 w-full max-w-md">
      <h4 class="text-center text-xl font-bold text-text-primary mb-6">Atualizar tarefa</h4>

      <form method="POST" class="space-y-4" action="{% url 'update' task.id %}">
        {% csrf_token %}

        <!-- Nome -->
        <div>
          <label for="name" class="block text-sm font-medium text-text-secondary mb-1">Nome</label>
          <input 
            type="text" 
            id="name" 
            name="name" 
            value="{{ task.name }}" 
            class="w-full rounded-lg px-3 py-2 bg-input-purple text-text-input placeholder-text-secondary focus:outline-none focus:ring-2 focus:ring-light-purple"
            value="{{ task.name }}"
            required
          >
        </div>

        <!-- Descrição -->
        <div>
          <label for="description" class="block text-sm font-medium text-text-secondary mb-1">Descrição</label>
          <textarea 
            id="description" 
            name="description" 
            rows="3" 
            class="w-full rounded-lg px-3 py-2 bg-input-purple text-text-input placeholder-text-secondary focus:outline-none focus:ring-2 focus:ring-light-purple"
            value="{{ task.description }}"
            required
          >{{ task.description }}</textarea>
        </div>

        <!-- Categoria -->
        <div>
          <label for="category" class="block text-sm font-medium text-text-secondary mb-1">Categoria</label>
          <input 
            type="text" 
            id="category" 
            name="category" 
            value="{{ task.category }}" 
            class="w-full rounded-lg px-3 py-2 bg-input-purple text-text-input focus:outline-none focus:ring-2 focus:ring-light-purple"
            required
          >
        </div>

        <!-- Hora de início -->
        <div>
          <label for="init_hour" class="block text-sm font-medium text-text-secondary mb-1">Hora de início</label>
          <input 
            type="time" 
            id="init_hour" 
            name="init_hour" 
            value="{{ task.init_hour|time:'H:i' }}" 
            class="w-full rounded-lg px-3 py-2 bg-input-purple text-text-input focus:outline-none focus:ring-2 focus:ring-light-purple"
            required
          >
        </div>

        <!-- Hora de término -->
        <div>
          <label for="end_hour" class="block text-sm font-medium text-text-secondary mb-1">Hora de término</label>
          <input 
            type="time" 
            id="end_hour" 
            name="end_hour" 
            value="{{ task.end_hour|time:'H:i' }}" 
            class="w-full rounded-lg px-3 py-2 bg-input-purple text-text-input focus:outline-none focus:ring-2 focus:ring-light-purple"
            required
          >
        </div>

        <div class="flex justify-end space-x-3 pt-4">
          <a href="{% url 'home' %}">
            <button type="button" class="px-6 py-2 rounded-lg text-sm font-semibold text-text-secondary hover:text-light-purple transition">
              Cancelar
            </button>
          </a>

          <a href="{% url 'delete' task.id %}">
            <button type="button" class="bg-red-500 px-6 py-2 rounded-lg text-sm font-bold text-red-300 hover:bg-[#d4c3f3] transition">
              Deletar
            </button>
          </a>

          <button type="submit" class="bg-light-purple px-6 py-2 rounded-lg text-sm font-bold text-dark-purple hover:bg-[#d4c3f3] transition">
            Salvar
          </button>
        </div>
      </form>
    </div>
  </body>
{% endblock %}